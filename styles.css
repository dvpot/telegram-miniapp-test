/* styles.css — обновлённая версия
   Исправлены масштабирование картинок, контуры и отступы.
*/

/* === Переменные темы === */
:root{
  --bg:#eef2f5;
  --card:#ffffff;
  --accent:#0088cc;
  --accent-dark:#006fa6;
  --muted:#6b7280;
  --radius:14px;
  --field-gap:12px;   /* единый отступ между полями */
  --image-max-height:260px; /* можно уменьшить/увеличить при желании */
}

/* Базовая сброс/типографика */
*{box-sizing:border-box}
body{
  margin:0;
  font-family: "Segoe UI", system-ui, -apple-system, "Helvetica Neue", Arial;
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Контейнер приложения — центрирование */
.app{
  max-width:600px;
  margin:0 auto;
  height:100vh;
  padding:12px;
  display:flex;
  align-items:stretch;
}

/* Карточка приложения: вертикальный flex.
   justify-content: space-between — чтобы кнопка была внизу. */
.card{
  flex:1;
  background:var(--card);
  border-radius:var(--radius);
  padding:18px;
  box-shadow:0 8px 22px rgba(0,0,0,0.08);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  gap:16px;
}

/* Хедер */
.header{ display:flex; align-items:center; justify-content:space-between; }
.username{ font-size:20px; font-weight:700; margin:0; }

/* === Блок изображения ===
   Ограничиваем высоту и используем object-fit: contain для безопасного масштабирования.
   Добавлен border и padding — теперь выглядит как поле тоже (как остальные поля).
*/
.image-area{
  width:100%;
  min-height:140px;                 /* минимальная высота для аккуратного вида */
  max-height: var(--image-max-height); /* ограничение по высоте */
  background:#ffffff;               /* белый фон — чтобы было как блок */
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;                  /* обрезаем лишнее, но картинка не будет обрезана логически */
  border:1px solid #d7d7d7;         /* контур, как у остальных полей */
  padding:12px;                      /* внутренний отступ — чтобы картинка не прилипала */
  margin-bottom: var(--field-gap);  /* одинаковый отступ как между полями */
  box-shadow: 0 1px 0 rgba(0,0,0,0.02) inset;
}

/* Изображение: масштабируем и центрируем, не обрезаем контент.
   object-fit: contain гарантирует, что картинка влезет в блок полностью.
   max-height/max-width предотвращают вытеснение контента. */
.image-area img{
  max-width:100%;
  max-height: calc(var(--image-max-height) - 24px); /* учитываем padding сверху/снизу */
  object-fit: contain;       /* НЕ cover — чтобы не обрезалось */
  display:block;
  margin: 0 auto;
  border-radius: 8px;
}

/* Текст-плейсхолдер в блоке изображения (показывается, если нет картинки) */
.image-placeholder{
  color:var(--muted);
  font-size:28px;          /* крупный текст при отсутствии картинки */
  font-weight:700;
  padding:8px 12px;
  text-align:center;
  letter-spacing:0.5px;
}

/* === Центральная колонка с полем слова и переводом === */
.center {
  display:flex;
  flex-direction:column;
  gap:var(--field-gap);
}

/* Поле английского слова. Щелчок по нему раскрывает слово + транскрипцию */
.field {
  background:#fafafa;
  border:1px solid #d7d7d7;
  border-radius:12px;
  padding:12px;
  cursor:pointer;
  transition:background .18s ease, transform .12s;
}
.field:hover{ background:#f4f6f7; }

/* Горизонтальная строка: текст слева, кнопка справа */
.field-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

/* Колонка с английским словом и транскрипцией */
.word-col{
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width:0;
}

/* Сам английский текст (по умолчанию скрыт — opacity 0) */
.word-text{
  font-size:24px;
  font-weight:700;
  margin:0;
  color:#111;
  opacity:0;
  transition:opacity .28s ease;
  word-break:break-word;
}
/* Транскрипция (скрыта по умолчанию) */
.trans-text{
  font-size:15px;
  color:var(--muted);
  margin:0;
  opacity:0;
  transition:opacity .28s ease;
}

/* Класс visible делает элемент видимым (используется в JS) */
.visible{ opacity:1 !important; }

/* Блок с переводом — справа кнопка RU */
.translation-field{
  background:#fafafa;
  border-radius:12px;
  padding:14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  border:1px solid #d7d7d7;
}
.translation-text{
  font-size:22px;
  font-weight:700;
  margin:0;
  color:#111;
}

/* Кнопки озвучки — небольшие круги */
.tts-btn {
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:50%;
  width:40px;
  height:40px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:16px;
  cursor:pointer;
  transition:transform .12s ease, background .12s;
  box-shadow:0 4px 8px rgba(0,0,0,0.06);
}
.tts-btn:hover{ transform:translateY(-2px); background:var(--accent-dark); }
.tts-btn.small{ width:38px; height:38px; font-size:15px; }

/* EN button hidden until reveal */
#speakEN_small{ opacity:0; pointer-events:none; transition:opacity .2s; }
#speakEN_small.visible{ opacity:1; pointer-events:auto; }

/* Кнопка "Следующее слово" */
.btn{
  width:100%;
  padding:14px;
  border-radius:12px;
  background:var(--accent);
  color:#fff;
  font-size:18px;
  font-weight:700;
  border:none;
  cursor:pointer;
}
.btn:hover{ background:var(--accent-dark); }

/* адаптив: чуть уменьшаем шрифты на очень маленьких экранах */
@media (max-width:420px){
  .word-text{ font-size:20px; }
  .translation-text{ font-size:20px; }
  .image-placeholder{ font-size:22px; }
}
